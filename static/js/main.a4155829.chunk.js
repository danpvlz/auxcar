/*!

=========================================================
* Argon Design System React - v1.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-design-system-react
* Copyright 2020 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/argon-design-system-react/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpauxcar=this.webpackJsonpauxcar||[]).push([[0],{100:function(e,a,t){},102:function(e,a,t){},103:function(e,a,t){},110:function(e,a,t){e.exports=t.p+"static/media/location.6ad69393.png"},119:function(e,a,t){e.exports=t.p+"static/media/logo-white.3110f9ee.png"},120:function(e,a,t){e.exports=t.p+"static/media/background-index.faab7a05.jpeg"},121:function(e,a,t){"use strict";t.r(a);var s=t(0),l=t.n(s),n=t(10),i=t(15),o=t(40),r=(t(100),t(101),t(102),t(103),t(153)),c=t(154),d=t(155);class m extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{className:"align-items-center justify-content-center mt-5"},l.a.createElement(c.a,{lg:"6",className:"text-center "},l.a.createElement("h1",{className:"display-3 text-white animate__animated animate__fadeInDown animate__slow"},"Hola!"," ",l.a.createElement("span",null,"Bienvenido a ",l.a.createElement("strong",null,"Auxcar"),", tu asistente vehicular")),l.a.createElement("div",{className:"mt-1 animate__animated animate__fadeIn"},l.a.createElement("div",{className:"icon icon-md icon-shape"},l.a.createElement("i",{className:"ni ni-settings text-white"})),l.a.createElement("div",{className:"icon icon-md icon-shape"},l.a.createElement("i",{className:"ni ni-delivery-fast text-white"})),l.a.createElement("div",{className:"icon icon-md icon-shape"},l.a.createElement("i",{className:"ni ni-compass-04 text-white"})),l.a.createElement("div",{className:"icon icon-md icon-shape"},l.a.createElement("i",{className:"ni ni-bus-front-12 text-white"})),l.a.createElement("div",{className:"icon icon-md icon-shape"},l.a.createElement("i",{className:"ni ni-square-pin text-white"}))),l.a.createElement("h2",{className:"lead text-muted text-white animate__animated animate__fadeInUp animate__slow mt-1"},"A continuaci\xf3n te haremos algunas preguntas para realizar el diagn\xf3stico de tu veh\xedculo"),l.a.createElement("div",{className:"btn-wrapper animate__animated animate__fadeInUp animate__slow"},l.a.createElement(d.a,{className:"btn-icon btn-3 btn-white ",color:"default",to:"/ubicacion",type:"button",tag:i.b},l.a.createElement("span",{className:"btn-inner--icon mr-1"},l.a.createElement("i",{className:"fa fa-car"})),l.a.createElement("span",{className:"btn-inner--text"},"Empezar"))))))}}var h=m,u=t(69),p=t.n(u),g=t(81);class E extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},l.a.createElement("input",{defaultChecked:!!this.props.seleccionados.includes(this.props.pregunta.id),value:this.props.valor,className:"custom-control-input preguntas",id:"pregunta_"+this.props.pregunta.id,type:"checkbox",onClick:this.props.onClick}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"pregunta_"+this.props.pregunta.id},l.a.createElement("span",null,this.props.pregunta.pregunta))))}}var f=E;class b extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,this.props.pregunta.pregunta),l.a.createElement("div",{className:"custom-control custom-radio mb-3 mt-3"},l.a.createElement("input",{className:"custom-control-input",id:"customRadio2",name:this.props.valor,type:"radio",value:"si",onClick:this.props.onClick,defaultChecked:!(!this.props.rbValor||!this.props.seleccionados.includes(this.props.pregunta.id))}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customRadio2"},l.a.createElement("span",null,"S\xed"))),l.a.createElement("div",{className:"custom-control custom-radio mb-3"},l.a.createElement("input",{defaultChecked:!(this.props.rbValor||!this.props.seleccionados.includes(this.props.pregunta.id)),onClick:this.props.onClick,className:"custom-control-input",id:"customRadio1",name:this.props.valor,type:"radio",value:"no"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customRadio1"},l.a.createElement("span",null,"No"))))}}var v=b,N=t(156),C=t(157),_=t(158),w=t(159);class S extends l.a.Component{render(){var e="shadow shadow-lg--hover animate__animated animate__fadeInUp animate__fast";return this.props.animar&&(e=0===this.props.estado?"shadow shadow-lg--hover animate__animated animate__flipOutX animate__fast":"shadow shadow-lg--hover animate__animated animate__slideOutUp animate__fast"),l.a.createElement(c.a,{className:"justify-content-center",sm:"6"},l.a.createElement(N.a,{className:e},l.a.createElement("form",null,l.a.createElement(C.a,null,l.a.createElement("h3",{className:"display-3 mb-0"},l.a.createElement("strong",null,"Auxcar")),l.a.createElement("div",null,l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-settings"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-delivery-fast"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-compass-04"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-bus-front-12"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-square-pin"})))),l.a.createElement(_.a,null,0===this.props.preguntas[0].predecesor?this.props.preguntas.map(e=>l.a.createElement(f,{key:e.id,pregunta:e,valor:e.id,onClick:this.props.onCheckbox,seleccionados:this.props.seleccionados})):l.a.createElement(v,{key:this.props.preguntas[0].id,pregunta:this.props.preguntas[0],valor:this.props.preguntas[0].id,seleccionados:this.props.seleccionados,rbValor:this.props.rbValor,onClick:this.props.onRadioButton})),l.a.createElement(w.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 mb-2"},l.a.createElement(d.a,{id:"btn-1",color:"primary ",type:"button",disabled:0==this.props.preguntas[0].predecesor,onClick:this.props.handleBack},"Atr\xe1s"),l.a.createElement(d.a,{id:"btn-2",color:"primary",type:"button",onClick:this.props.handleNext},"Siguiente")),l.a.createElement("div",{className:"col-md-4 "},l.a.createElement(d.a,{className:"btn-icon btn-3 text-right",color:"primary",type:"button",outline:!0,disabled:0==this.props.preguntas[0].predecesor,onClick:this.props.terminar},"Terminar")))))))}}var x=S,y=t(160),P=t(193);function D(e){return l.a.createElement(d.a,{className:"text-white",color:"link",type:"button",onClick:e.formatearData},"Volver a diagnosticar")}function k(e){return l.a.createElement(d.a,{className:"text-white",color:"link",type:"button",to:{pathname:"/reporte-diagnostico",fallas_identificadas:e.fallas_identificadas,asistenciaPrecio:e.asistenciaPrecio,asistenciaDistrito:e.asistenciaDistrito,codDistrito:e.codDistrito},tag:i.b},"Ir al reporte")}class I extends l.a.Component{render(){return 0===this.props.tipo?l.a.createElement(D,{formatearData:this.props.formatearData}):l.a.createElement(k,{fallas_identificadas:this.props.fallas_identificadas,asistenciaDistrito:this.props.asistenciaDistrito,asistenciaPrecio:this.props.asistenciaPrecio,codDistrito:this.props.codDistrito})}}var T=I;class O extends l.a.Component{render(){var e="bg-success align-items-center",a="ni ni-like-2 ni-3x",t="Su reporte est\xe1 listo",s="align-items-center mt-4 animate__animated animate__slideInDown animate__fast";return 0===this.props.estado&&(e="bg-primary align-items-center",a="fa fa-exclamation-triangle fa-3x",t="No se tiene suficiente informaci\xf3n para detectar la falla de su veh\xedculo. Describa su situaci\xf3n a continuaci\xf3n:",s="align-items-center mt-4 animate__animated animate__flipInX animate__fast"),l.a.createElement(c.a,{className:s,sm:"5"},l.a.createElement(N.a,{className:e},l.a.createElement(_.a,{className:"text-white"},l.a.createElement("div",{className:"py-3 text-center"},l.a.createElement("i",{className:a}),l.a.createElement("p",{className:"mt-5"},t),0===this.props.estado?l.a.createElement(y.a,null,l.a.createElement(P.a,{fullWidth:!0,id:"txtDescripcion",multiline:!0,autoComplete:"off"})):""),0===this.props.estado?l.a.createElement(d.a,{className:"text-primary",color:"neutral",type:"button",block:!0,to:{pathname:"/reporte-diagnostico",fallas_identificadas:[999],asistenciaPrecio:this.props.asistenciaPrecio,asistenciaDistrito:this.props.asistenciaDistrito,codDistrito:this.props.codDistrito},tag:i.b},"Pedir auxilio"):""),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"btn-wraper"},l.a.createElement(d.a,{className:"text-white",color:"link",type:"button",to:"/",tag:i.b},"Cerrar"),l.a.createElement(T,{formatearData:this.props.formatearData,tipo:this.props.estado,fallas_identificadas:this.props.fallas_identificadas,asistenciaDistrito:this.props.asistenciaDistrito,asistenciaPrecio:this.props.asistenciaPrecio,codDistrito:this.props.codDistrito})))))}}var A=O,M=t(70);class j extends l.a.Component{constructor(){var e;super(),e=this,this.formatearData=Object(g.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({preguntas:[],categorias:[],seleccionados:[0],identificados:[],rbValor:!0,animar:!1,historial:[{preguntas:[],seleccionados:[0],identificados:[],rbValor:!0}]});case 2:e.cargarPreguntas();case 3:case"end":return a.stop()}}),a)}))),this.cargarPreguntas=()=>{var e=this.state.seleccionados.slice(),a=this.state.identificados.slice(),t=0!=e[0]?this.state.preguntas.slice().filter(a=>a.id!=e[0]&&0!=a.predecesor):[];let s=[];e.map(e=>{let t=M.filter(a=>a.predecesor==e&&this.state.rbValor);if(s=s.concat(t),0==t.length){let t=M.find(a=>a.id==e);this.state.rbValor&&void 0!=t.valor_si&&a.push(t.valor_si),!this.state.rbValor&&t.valor_no&&a.push(t.valor_no)}}),0==(t=s.concat(t)).length?(this.setState({animar:!0}),window.scrollTo(0,0),setTimeout(()=>{this.setState({identificados:a,preguntas:t,seleccionados:[]})},500)):this.setState({identificados:a,preguntas:t,seleccionados:[]})},this.handleChecked=e=>{var a=this.state.seleccionados.slice();e.target.checked?a.push(parseInt(e.target.value)):a=a.filter(a=>a!=e.target.value),this.setState({seleccionados:a.sort(),categorias:a.sort()})},this.handleRadioButton=e=>{var a=[parseInt(e.target.name)],t=!1;t="si"==e.target.value,this.setState({seleccionados:a,rbValor:t})},this.handleNext=()=>{if(this.state.seleccionados.length>0){let e=this.state.historial.slice();e.push(this.getEstadoApp()),this.setState({historial:e}),this.cargarPreguntas()}},this.getEstadoApp=()=>({preguntas:this.state.preguntas.slice(),seleccionados:this.state.seleccionados.slice(),identificados:this.state.identificados.slice(),categorias:this.state.categorias.slice(),rbValor:this.state.rbValor}),this.handleBack=()=>{var e=this.state.historial.slice();this.setState({preguntas:e[e.length-1].preguntas,seleccionados:e[e.length-1].seleccionados,identificados:e[e.length-1].identificados,rbValor:e[e.length-1].rbValor,categorias:e[e.length-1].categorias,historial:e.slice(0,e.length-1)})},this.comprobarIndeterminadas=()=>{let e=[{cat:1,min:1,max:12},{cat:2,min:13,max:17},{cat:3,min:18,max:35},{cat:4,min:36,max:38}],a=this.state.identificados.slice();if(a.length>0){let t=[],s=[];e=e.filter(e=>this.state.categorias.includes(e.cat)),e.map(e=>{t=a.filter(a=>a>=e.min&&a<=e.max),0==t.length&&s.push(999)}),a=a.concat(s)}this.setState({animar:!0}),window.scrollTo(0,0),setTimeout(()=>{this.setState({identificados:[...new Set(a)],preguntas:[],seleccionados:[]})},500)},this.state={preguntas:[],categorias:[],seleccionados:[0],identificados:[],rbValor:!0,animar:!1,historial:[{preguntas:[],seleccionados:[0],identificados:[],rbValor:!0}]}}componentDidMount(){void 0!=this.props.location.asistenciaPrecio?(window.scrollTo(0,0),this.cargarPreguntas()):this.props.history.push("/")}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{className:"align-items-center justify-content-center mt-5"},this.state.preguntas.length>0?l.a.createElement(x,{rbValor:this.state.rbValor,terminar:this.comprobarIndeterminadas,seleccionados:this.state.seleccionados,estado:this.state.identificados.length,animar:this.state.animar,handleBack:this.handleBack,handleNext:this.handleNext,preguntas:this.state.preguntas,onCheckbox:this.handleChecked,onRadioButton:this.handleRadioButton}):l.a.createElement(A,{formatearData:this.formatearData,estado:this.state.identificados.length,fallas_identificadas:this.state.identificados,asistenciaPrecio:this.props.location.asistenciaPrecio,asistenciaDistrito:this.props.location.asistenciaDistrito,codDistrito:this.props.location.codDistrito})))}}var U=j,L=t(33),F=t(196),R=t(168),z=t(71);class V extends l.a.Component{constructor(){super(),this.handleProvinciaChange=e=>{const a=this.state.data.slice().filter(a=>a.provincia==e.value);this.setState({distritos:a,distritoSelected:"",costoDistrito:0})},this.handleChange=e=>{this.setState({costoDistrito:e.costo,distritoSelected:e.value,distritoName:e.label})},this.handleClick=()=>{this.state.costoDistrito>0&&this.props.history.push({pathname:"/asistencia-vehicular",asistenciaPrecio:this.state.costoDistrito,asistenciaDistrito:this.state.distritoName,codDistrito:this.state.distritoSelected})},this.loadData=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/distrito").then(e=>e.json()).then(e=>{this.setState({data:e,loading:!1})}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.loadData,7e3)})},this.state={data:[],distritos:[],distritoSelected:"",distritoName:"",costoDistrito:0,loading:!1}}componentWillMount(){this.loadData()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.loading,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement(r.a,{className:"align-items-center animate__animated animate__fadeIn"},l.a.createElement(c.a,{className:"order-md-2 ",md:"6"},l.a.createElement("img",{alt:"...",className:"img-fluid floating",src:t(110)})),l.a.createElement(c.a,{className:"order-md-1 ",md:"6"},l.a.createElement("div",{className:"pr-md-5"},l.a.createElement("div",null,l.a.createElement("h3",{className:"display-3 text-white mb-0"},"Auxcar"),l.a.createElement("div",null,l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-settings text-white"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-delivery-fast text-white"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-compass-04 text-white"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-bus-front-12 text-white"})),l.a.createElement("div",{className:"icon icon-sm icon-shape"},l.a.createElement("i",{className:"ni ni-square-pin text-white"}))),l.a.createElement("p",{className:"text-white"},"\xbfD\xf3nde te encuentras?")),l.a.createElement("form",{action:"",className:""},l.a.createElement("div",{className:"mt-5"},l.a.createElement(z.a,{options:[{value:"1",label:"Ferre\xf1afe"},{value:"2",label:"Lambayeque"},{value:"3",label:"Chiclayo"}],onChange:this.handleProvinciaChange,label:"Single select",placeholder:"Provincia",onFocus:e=>this.setState({searchAltFocused:!0}),onBlur:e=>this.setState({searchAltFocused:!1}),theme:e=>Object(L.a)(Object(L.a)({},e),{},{colors:Object(L.a)(Object(L.a)({},e.colors),{},{primary:"#1aae6fc7"})})})),l.a.createElement("div",{className:"mt-3"},l.a.createElement(z.a,{options:this.state.distritos,onChange:this.handleChange,placeholder:"Distrito",onFocus:e=>this.setState({searchAltFocused:!0}),onBlur:e=>this.setState({searchAltFocused:!1}),theme:e=>Object(L.a)(Object(L.a)({},e),{},{colors:Object(L.a)(Object(L.a)({},e.colors),{},{primary:"#1aae6fc7"})})})),l.a.createElement("div",{className:"mt-4"},l.a.createElement(d.a,{outline:!0,type:"button",color:"success",onClick:this.handleClick},l.a.createElement("span",{className:"btn-inner--text"},"Seguir"))))))))}}var W=V;class q extends l.a.Component{constructor(...e){super(...e),this.state={fallas:[],asistenciaPrecio:0,reparacion:0,subtotal:0,open:!1},this.init=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/fallas-vehiculares",{method:"POST",body:'{\n        "fallas": ['.concat(this.props.location.fallas_identificadas.toString(),"]\n      }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{let a=0;e.map(e=>{a+=e.costo}),this.setState({asistenciaPrecio:this.props.location.asistenciaPrecio,reparacion:a,subtotal:a+this.props.location.asistenciaPrecio,fallas:e,open:!1})}).catch(()=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.init(),7e3)})}}componentDidMount(){void 0!=this.props.location.fallas_identificadas?this.init():this.props.history.push("/inicio")}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.open,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement(r.a,{className:"justify-content-center mt-4 "},l.a.createElement(c.a,{className:"text-center mb-4 animate__animated animate__fadeInDown",sm:"12"},l.a.createElement("h2",{className:"display-3 text-white"},"Reporte de diagn\xf3stico vehicular"),l.a.createElement("p",{className:"text-white"},"El diagn\xf3stico es el siguiente:")),l.a.createElement(c.a,{lg:"7 mb-4"},l.a.createElement(N.a,{className:"shadow animate__animated animate__fadeInUp"},l.a.createElement(_.a,null,l.a.createElement("div",{className:"table-responsive-sm "},l.a.createElement("table",{className:"table w-auto"},l.a.createElement("thead",{className:"table-borderless "},l.a.createElement("tr",null,l.a.createElement("th",{className:"h6"},"Falla"),l.a.createElement("th",{className:"h6"},"Costo de reparaci\xf3n"),l.a.createElement("th",{className:"h6"},"Causa probable"))),l.a.createElement("tbody",{className:"table-borderless  description mt-3"},this.state.fallas.map((e,a)=>l.a.createElement("tr",{key:a+"_tr"},l.a.createElement("td",null,e.descripcion),l.a.createElement("td",null,0==e.costo?"Pendiente":"S/. "+e.costo),l.a.createElement("td",null,e.causa))))))))),l.a.createElement(c.a,null,l.a.createElement(N.a,{className:"mb-2 shadow shadow-lg animate__animated animate__fadeInUp"},l.a.createElement(_.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"mt-3"},"Reparaci\xf3n")),l.a.createElement("div",{className:"col text-right"},l.a.createElement("p",{className:"mt-3"},0==this.state.reparacion?"Pendiente":"S/.".concat(this.state.reparacion)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"mt-3"},"Asistencia")),l.a.createElement("div",{className:"col text-right"},l.a.createElement("p",{className:"mt-3"},"S/.",this.state.asistenciaPrecio))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"mt-3"},"Subtotal*")),l.a.createElement("div",{className:"col text-right"},l.a.createElement("p",{className:"mt-3"},"S/.",this.state.subtotal))),l.a.createElement("div",{className:"row"},l.a.createElement(c.a,{className:"text-left",sm:"12"},l.a.createElement("small",null,"(*) Los costos por asistencia var\xedan por la distancia a recorrer por el mec\xe1nico.")),l.a.createElement(c.a,{className:"text-left",sm:"12"},l.a.createElement("small",null,"(**)El subtotal no considera el costo de repuestos nuevos, en caso se requiera."))))),l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"btn-wrapper animate__animated animate__fadeInDown"},l.a.createElement(d.a,{className:"btn-white mt-2",to:"/inicio",tag:i.b},"Cerrar reporte"),l.a.createElement(d.a,{className:"mt-2",color:"success",to:{pathname:"/solicitud-auxilio",asistenciaDistrito:this.props.location.asistenciaDistrito,codDistrito:this.props.location.codDistrito,costo:this.state.subtotal,fallas:this.props.location.fallas_identificadas},tag:i.b},"Solicitar mec\xe1nico"))))))}}var B=q,H=t(194),G=t(169),J=t(44);class K extends l.a.Component{render(){var e=this.props.animar?"shadow shadow-lg--hover animate__animated animate__slideOutUp animate__fast":"shadow shadow-lg--hover animate__animated animate__fadeInUp";return l.a.createElement(c.a,{lg:"6"},l.a.createElement(H.a,{color:"warning",fade:!0,isOpen:this.props.showError,onClick:this.props.alertState,className:"animate__animated animate__slideInDown"},l.a.createElement("span",{className:"alert-inner--icon"},l.a.createElement("i",{className:"ni ni-bell-55"})),l.a.createElement("span",{className:"alert-inner--text ml-1"},l.a.createElement("strong",null,"Alerta!")," ",this.props.mensajeError)),l.a.createElement(N.a,{className:e},l.a.createElement("form",null,l.a.createElement(C.a,null,l.a.createElement("h4",{className:"display-4"},l.a.createElement("strong",null,"SOLICITUD DE AUXILIO"))),l.a.createElement(_.a,null,l.a.createElement(y.a,null,l.a.createElement(P.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},l.a.createElement("i",{className:"fa fa-user"}))},onChange:this.props.handleChange,fullWidth:!0,id:"txtCliente",label:"Nombre completo"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 mb-3"},l.a.createElement(J.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},l.a.createElement("i",{className:"fa fa-phone "}))},onChange:this.props.handleChange,id:"txtContacto",customInput:P.a,label:"N\xfamero de contacto",format:"+51 #########"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement(P.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},l.a.createElement("i",{className:"fa fa-map-marker"})),readOnly:!0},id:"standard-basic",label:"Distrito",value:this.props.distrito}))),l.a.createElement(y.a,{className:"mt-2"},l.a.createElement("small",null,"Ubicaci\xf3n"),l.a.createElement("iframe",{title:"mapa",id:"mapa",src:"https://maps.google.com/maps?q=".concat(this.props.latitud,",").concat(this.props.longitud,"&z=15&output=embed"),width:"100%",height:"300",style:{border:"0px"},"aria-hidden":"false"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},l.a.createElement("i",{className:"fa fa-location-arrow "}))},onChange:this.props.handleChange,fullWidth:!0,multiline:!0,id:"txtReferencia",label:"Referencia"}))),l.a.createElement(w.a,null,l.a.createElement(d.a,{id:"btn-1",to:"/",tag:i.b,className:"btn-white",type:"button"},"Cancelar"),l.a.createElement(d.a,{id:"btn-2",color:"success",type:"button",onClick:this.props.handleSubmit},"Solicitar auxilio")))))}}var X=K;class Q extends l.a.Component{render(){return l.a.createElement(c.a,{lg:"5"},l.a.createElement("div",{className:"animate__animated animate__slideInDown animate__fast"},l.a.createElement(N.a,{className:"bg-gradient-success",sm:"4"},l.a.createElement(_.a,{className:"text-white"},l.a.createElement("div",{className:"py-3 text-center"},l.a.createElement("i",{className:"ni ni-like-2 ni-3x"}),l.a.createElement("p",{className:"heading mt-5"},"Solicitud registrada con \xe9xito"))),l.a.createElement(w.a,{className:"bg-gradient-success"},l.a.createElement(d.a,{className:"text-white ml-auto",color:"link",type:"button",block:!0,to:"/",tag:i.b},"OK")))))}}var Y=Q;class Z extends l.a.Component{constructor(){super(),this.getUbicacion=()=>{navigator.geolocation?navigator.geolocation.watchPosition(e=>{this.setState({latitud:e.coords.latitude,longitud:e.coords.longitude})},()=>{this.setState({mensajeError:"Por favor, otorgue permisos de geolocalizaci\xf3n."})}):this.setState({mensajeError:"Geolocalizaci\xf3n no disponible"})},this.handleChange=e=>{switch(e.target.id){case"txtCliente":this.setState({cliente:e.target.value});break;case"txtContacto":this.setState({contacto:e.target.value});break;case"txtReferencia":this.setState({referencia:e.target.value})}},this.alertState=e=>{e&&"\xd7"==e.target.textContent?this.setState({showError:!1}):(window.scroll(0,0),this.setState({showError:!0}))},this.saveAuxilio=e=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/auxilio",{method:"POST",body:'\n      {\n          "lat": '.concat(this.state.latitud,',\n          "long": ').concat(this.state.longitud,',\n          "cliente": "').concat(this.state.cliente,'",\n          "contacto": "').concat(this.state.contacto.substr(4),'",\n          "diagnostico": ').concat(e,',\n          "referencia": "').concat(this.state.referencia,'"\n      }\n      '),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>(this.setState({done:!1}),e.status)).then(e=>{200==e&&(this.setState({animar:!0,open:!1}),setTimeout(()=>{this.setState({done:!0})},500))}).catch(()=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.saveAuxilio(e),7e3)})},this.saveDiagnostico=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/diagnostico",{method:"POST",body:'{\n              "distrito": '.concat(this.props.location.codDistrito,',\n              "costo": ').concat(this.props.location.costo,',\n              "fallas": [').concat(this.props.location.fallas.toString(),"]\n          }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.insertedId).then(e=>{this.setState({open:!1}),this.saveAuxilio(e)}).catch(()=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.saveDiagnostico(),7e3)})},this.handleSubmit=()=>{this.state.cliente.length>0&&this.state.contacto.length>0&&this.state.referencia.length>0&&0!=this.state.latitud&&0!=this.state.longitud?this.saveDiagnostico():this.alertState()},this.state={latitud:0,longitud:0,cliente:"",contacto:"",referencia:"",done:!1,animar:!1,showError:!1,open:!1,mensajeError:"Por favor, complete todos los campos."}}componentWillMount(){void 0!=this.props.location.asistenciaDistrito?(window.scroll(0,0),this.getUbicacion()):this.props.history.push("/")}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.open,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement(r.a,{className:"justify-content-center"},this.state.done?l.a.createElement(Y,null):l.a.createElement(X,{showError:this.state.showError,mensajeError:this.state.mensajeError,animar:this.state.animar,distrito:this.props.location.asistenciaDistrito,handleChange:this.handleChange,latitud:this.state.latitud,longitud:this.state.longitud,alertState:this.alertState,handleSubmit:this.handleSubmit})))}}var $=Z,ee=t(170),ae=t(171);class te extends l.a.Component{constructor(){super(),this.handleChange=e=>{switch(e.target.id){case"txtUser":this.setState({user:e.target.value});break;case"txtPass":this.setState({password:e.target.value})}},this.handleClickShowPassword=()=>{this.setState({showPassword:!this.state.showPassword})},this.handleChecked=e=>{this.setState({recordar:e.target.checked})},this.handleSubmit=()=>{this.state.password&&this.state.user&&this.props.loginF(this.state.user,this.state.password,this.state.recordar)},this.alertState=e=>{e&&"\xd7"==e.target.textContent&&this.setState({error:!1})},this.handleKeyPressed=e=>{13==e.keyCode&&this.handleSubmit()},this.state={user:null,password:null,showPassword:!1,recordar:!1,error:!1}}render(){var e=this.props.sesion?"shadow shadow-lg--hover animate__animated animate__fadeOutUp animate__fast":"shadow shadow-lg--hover animate__animated animate__fadeInDown";return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.props.loading,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement(r.a,{className:"justify-content-center mt-5"},l.a.createElement(c.a,{lg:"5"},l.a.createElement(H.a,{color:"danger",onClick:this.alertState,fade:!0,isOpen:this.props.error?this.props.error:this.state.error,className:"animate__animated animate__slideInDown"},l.a.createElement("span",{className:"alert-inner--icon"},l.a.createElement("i",{className:"ni ni-bell-55"})),l.a.createElement("span",{className:"alert-inner--text ml-1"},l.a.createElement("strong",null,"Alerta! ")," Credenciales incorrectas.")),l.a.createElement(N.a,{className:e},l.a.createElement(C.a,{className:"bg-white"},l.a.createElement("div",{className:"display-3 text-center"},"Iniciar Sesi\xf3n")),l.a.createElement(_.a,{className:""},l.a.createElement(ee.a,{role:"form"},l.a.createElement(y.a,null,l.a.createElement(P.a,{onChange:this.handleChange,fullWidth:!0,id:"txtUser",label:"Usuario",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{onKeyDown:this.handleKeyPressed,onChange:this.handleChange,fullWidth:!0,InputProps:{endAdornment:l.a.createElement(G.a,{position:"end"},l.a.createElement(ae.a,{onClick:this.handleClickShowPassword,"aria-label":"toggle password visibility",component:"span"},l.a.createElement("i",{className:this.state.showPassword?"fa fa-eye":"fa fa-eye-slash"})))},id:"txtPass",type:this.state.showPassword?"text":"password",autoComplete:"off",label:"Contrase\xf1a"})),l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox mt-4"},l.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",onClick:this.handleChecked}),l.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},l.a.createElement("span",null,"Recu\xe9rdame"))),l.a.createElement("div",{className:"text-center"},l.a.createElement(d.a,{className:"my-2",color:"primary",type:"button",onClick:this.handleSubmit},"Iniciar"))))))))}}var se=te,le=t(173),ne=t(174),ie=t(175),oe=t(176),re=t(177),ce=t(198),de=t(178),me=t(180),he=t(192),ue=t(195),pe=t(172),ge=t(179);function Ee(e){return l.a.createElement(ue.a,{className:"modal-dialog-centered",isOpen:e.defaultModal,toggle:e.toggleModal},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title",id:"modal-title-default"},"Solicitud de auxilio"),l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:e.toggleModal},l.a.createElement("span",{"aria-hidden":!0},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("strong",null,"Fecha:")," ",e.seleccionado.fecha),l.a.createElement("p",{className:"mb-0"},l.a.createElement("strong",null,"Hora:")," ",e.seleccionado.hora),l.a.createElement("p",{className:"mb-0"},l.a.createElement("strong",null,"Cliente:")," ",e.seleccionado.cliente),l.a.createElement("p",{className:"mb-0"},l.a.createElement("strong",null,"Tel\xe9fono:")," ",e.seleccionado.contacto),l.a.createElement("p",{className:"mb-3"},l.a.createElement("strong",null,"Distrito:")," ",e.seleccionado.distrito),l.a.createElement("iframe",{title:"mapa",id:"mapa",src:"https://maps.google.com/maps?q=".concat(e.seleccionado.gpsLat,",").concat(e.seleccionado.gpsLong,"&z=15&output=embed"),width:"100%",height:"300",style:{border:"0px"},"aria-hidden":"false"}),l.a.createElement("p",{className:"description"},l.a.createElement("strong",null,"Referencia: "),e.seleccionado.referencia),l.a.createElement("div",{className:"table-responsive-sm mt-3"},l.a.createElement("table",{className:"table table-sm w-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Falla"),l.a.createElement("th",null,"Costo"),l.a.createElement("th",null,"Causa"))),l.a.createElement("tbody",{className:"table-borderless  description mt-3"},JSON.parse(e.seleccionado.fallas_detalle).map((e,a)=>l.a.createElement("tr",{key:a+"_tr_detalle"},l.a.createElement("td",null,e.falla),l.a.createElement("td",null,"S/. ",parseFloat(e.costo)),l.a.createElement("td",null,e.causa))))),l.a.createElement("p",{className:"mb-0 text-right"},l.a.createElement("strong",null,"Reparaci\xf3n:")," S/. ",e.seleccionado.reparacion),l.a.createElement("p",{className:"mb-0 text-right"},l.a.createElement("strong",null,"Asistencia:")," S/. ",e.seleccionado.asistencia),l.a.createElement("p",{className:"mb-0 text-right"},l.a.createElement("strong",null,"Subtotal:")," S/. ",e.seleccionado.costo))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(d.a,{className:"float-left",disabled:"cancelado"==e.seleccionado.estado.toLowerCase()||"facturado"==e.seleccionado.estado.toLowerCase(),onClick:()=>e.cambiarEstado(e.seleccionado.idAuxilio,1),block:!0,color:"primary",type:"button"},"Enviar mec\xe1nico"),l.a.createElement(d.a,{className:"float-left",disabled:"cancelado"==e.seleccionado.estado.toLowerCase()||"facturado"==e.seleccionado.estado.toLowerCase(),onClick:()=>e.cambiarEstado(e.seleccionado.idAuxilio,2),block:!0,color:"primary",type:"button"},"Facturar solicitud")),l.a.createElement("div",{className:"col"},l.a.createElement(d.a,{className:"float-right",disabled:"cancelado"==e.seleccionado.estado.toLowerCase()||"facturado"==e.seleccionado.estado.toLowerCase(),onClick:()=>e.cambiarEstado(e.seleccionado.idAuxilio,3),block:!0,color:"danger",type:"button"},"Cancelar solicitud")))))}class fe extends l.a.Component{constructor(){super(),this.loadData=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/solicitudes-auxilio",{method:"POST"}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({solicitudes:e.data}),this.setState({open:!1}))}).catch(()=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.loadData(),7e3)})},this.handleChangePage=(e,a)=>{this.setState({page:a})},this.handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value,page:0})},this.handleClickRow=(e,a)=>{let t=this.state.solicitudes.slice().find(e=>e.idAuxilio==a);this.setState({seleccionado:t}),this.toggleModal()},this.toggleModal=()=>{this.setState({defaultModal:!this.state.defaultModal})},this.cambiarEstado=(e,a)=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/solicitudes-auxilio/actualizar-estado/",{method:"POST",body:'{\n                "_id": '.concat(e,',\n                "state": ').concat(a,"\n            }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({open:!1}),this.loadData(),this.toggleModal())}).catch(()=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.cambiarEstado(e,a),7e3)})},this.handleSort=()=>{var e=[];e=this.state.sortAsc?this.state.solicitudes.sort((e,a)=>new Date(e.fecha.substring(0,2),e.fecha.substring(3,5),e.fecha.substring(6,8))-new Date(a.fecha.substring(0,2),a.fecha.substring(3,5),a.fecha.substring(6,8))):this.state.solicitudes.sort((e,a)=>new Date(a.fecha.substring(0,2),a.fecha.substring(3,5),a.fecha.substring(6,8))-new Date(e.fecha.substring(0,2),e.fecha.substring(3,5),e.fecha.substring(6,8))),this.setState({sortAsc:!this.state.sortAsc,solicitudes:e})},this.handleFilter=e=>{this.setState({filterText:e.target.value})},this.handleDeleteSolicitud=(e,a)=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/solicitudes-auxilio/delete",{method:"POST",body:'{\n                "_id": '.concat(a,"\n            }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({open:!1}),this.loadData())}).catch(e=>{console.clear(),this.setState({open:!0}),setTimeout(()=>this.handleDeleteSolicitud(),7e3)})},this.state={solicitudes:[],page:0,rowsPerPage:10,seleccionado:null,defaultModal:!1,username:null,open:!1,sortAsc:!0,filterText:""}}componentWillMount(){this.loadData()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.open,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement("div",{className:"row py-3 align-items-center text-white  animate__animated animate__fadeInDown animate__fast"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"display-4 mb-0 text-white"},"SOLICITUDES DE AUXILIO")),l.a.createElement("div",{className:"col"},l.a.createElement(pe.a,{className:"col-sm-6 float-right",onChange:this.handleFilter,placeholder:"Filtrar"}))),l.a.createElement(N.a,{className:"animate__animated animate__fadeInDown animate__fast"},l.a.createElement(le.a,null,l.a.createElement(ne.a,{stickyHeader:!0,className:"table-responsive text-nowrap"},l.a.createElement(ie.a,null,l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement(ce.a,{active:!0,direction:this.state.sortAsc?"asc":"desc",onClick:this.handleSort},l.a.createElement("strong",null," Fecha "))),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Hora")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Cliente")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Tel\xe9fono")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Distrito")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Costo")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Estado")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Detalle")))),l.a.createElement(de.a,null,this.state.solicitudes.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).filter(e=>this.state.filterText.length>=3?e.fecha.toLowerCase().includes(this.state.filterText.toLowerCase())||e.hora.toLowerCase().includes(this.state.filterText.toLowerCase())||e.cliente.toLowerCase().includes(this.state.filterText.toLowerCase())||e.contacto.toLowerCase().includes(this.state.filterText.toLowerCase())||e.distrito.toLowerCase().includes(this.state.filterText.toLowerCase())||e.costo.toString().includes(this.state.filterText.toLowerCase())||e.estado.toLowerCase().includes(this.state.filterText.toLowerCase())?e:void 0:e).map((e,a)=>{var t="primary";switch(e.estado.toLowerCase()){case"pendiente":t="warning";break;case"en camino":t="info";break;case"cancelado":t="danger";break;case"facturado":t="success"}return l.a.createElement(oe.a,{key:a+"_tr",tabIndex:-1},l.a.createElement(re.a,null,e.fecha),l.a.createElement(re.a,null,e.hora),l.a.createElement(re.a,null,e.cliente),l.a.createElement(re.a,null,e.contacto),l.a.createElement(re.a,null,e.distrito),l.a.createElement(re.a,null,"S/. ",e.costo),l.a.createElement(re.a,null,l.a.createElement(ge.a,{className:"text-uppercase",color:t,pill:!0},e.estado)),l.a.createElement(re.a,null,l.a.createElement(ae.a,{onClick:a=>this.handleClickRow(a,e.idAuxilio),fontSize:"small","aria-label":"detalles",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-eye",fontSize:"small"})),l.a.createElement(ae.a,{onClick:a=>this.handleDeleteSolicitud(a,e.idAuxilio),fontSize:"small","aria-label":"delete",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-trash-o",fontSize:"small"}))))})))),l.a.createElement(he.a,{component:"div",labelRowsPerPage:"Mostrar:",count:this.state.solicitudes.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),this.state.seleccionado?l.a.createElement(Ee,{cambiarEstado:this.cambiarEstado,defaultModal:this.state.defaultModal,seleccionado:this.state.seleccionado,toggleModal:this.toggleModal}):"")}}var be=fe,ve=t(86),Ne=t(181),Ce=t(182);function _e(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ue.a,{isOpen:e.modalConfirmation,toggle:e.toggleModal,className:"modal-dialog-centered modal-primary",size:"sm",contentClassName:"bg-primary"},l.a.createElement("div",{className:"modal-body text-white"},l.a.createElement("div",{className:"py-3 text-center"},l.a.createElement("i",{className:"fa fa-exclamation-triangle fa-3x"}),l.a.createElement("p",{className:"heading mt-5"},e.userLog!=e.deleteId?"\xbfSeguro de eliminar?":"No puede eliminar su usuario"," "))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"col text-center"},l.a.createElement(d.a,{className:e.userLog!=e.deleteId?"text-white float-left":"text-white text-center",color:"link",type:"button",onClick:e.toggleModal},"Cerrar"),e.userLog!=e.deleteId?l.a.createElement(d.a,{className:"text-white float-right",color:"link",type:"button",onClick:e.deleteUser},"Eliminar"):""))))}function we(e){const a=Object(s.useState)(!0),t=Object(ve.a)(a,2),n=t[0],i=t[1];return Object(s.useEffect)(()=>i(e=>!e),[]),l.a.createElement(ue.a,{className:"modal-dialog-centered",isOpen:e.modalAddEdit,toggle:e.toggleModal,size:"sm"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title",id:"modal-title-default"},void 0!=e.usuarioSeleccionado?"Editar usuario":"Nuevo usuario"),l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:e.toggleModal},l.a.createElement("span",{"aria-hidden":!0},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",null,l.a.createElement(y.a,null,l.a.createElement(P.a,{defaultValue:void 0!=e.usuarioSeleccionado?e.usuarioSeleccionado.user:"",onChange:e.handleChange,fullWidth:!0,id:"txtUser",label:"Usuario",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{onChange:e.handleChange,fullWidth:!0,InputProps:{endAdornment:l.a.createElement(G.a,{position:"end"},l.a.createElement(ae.a,{onClick:()=>{i(e=>!e)},component:"span"},l.a.createElement("i",{className:n?"fa fa-eye":"fa fa-eye-slash"})))},id:"txtClave",type:n?"text":"password",autoComplete:"off",label:"Nueva clave"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{onChange:e.handleChange,defaultValue:void 0!=e.usuarioSeleccionado?e.usuarioSeleccionado.nombre:"",fullWidth:!0,id:"txtNombre",label:"Nombre",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{defaultValue:void 0!=e.usuarioSeleccionado?e.usuarioSeleccionado.rol:"Administrador",select:!0,label:"Rol",autoComplete:"off",onChange:e.handleChange,fullWidth:!0,id:"txtRol"},l.a.createElement(Ne.a,{value:"Administrador"},"Administrador"),l.a.createElement(Ne.a,{value:"Usuario"},"Usuario"))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"col-sm text-center"},l.a.createElement(d.a,{onClick:void 0!=e.usuarioSeleccionado?()=>e.updateUser(e.usuarioSeleccionado.idUsuario):()=>e.addUser(),className:"text-center",color:"success",type:"button"},"Guardar"))))}class Se extends l.a.Component{constructor(){super(),this.loadData=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/usuario",{method:"POST"}).then(e=>e.json()).then(e=>{this.setState({usuarios:e,loading:!1,userRol:e.find(e=>e.idUsuario==this.props.userLog).rol})}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.loadData,7e3)})},this.handleChangePage=(e,a)=>{this.setState({page:a})},this.handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value,page:0})},this.handleAddEdit=(e,a)=>{if(a){let e=this.state.usuarios.slice().find(e=>e.idUsuario==a);this.setState({action:"edit",usuario_seleccionado:e,user:e.user,newClave:"",nombre:e.nombre,rol:e.rol})}else this.setState({usuario_seleccionado:null,action:"add",newClave:"",user:"",nombre:"",rol:""});this.toggleModal("modalAddEdit")},this.handleDelete=(e,a)=>{this.setState({deleteId:a}),this.toggleModal("modalConfirmation")},this.toggleModal=e=>{this.setState({[e]:!this.state[e]})},this.handleChange=e=>{switch(console.log(e.target.id),console.log(e.target.value),e.target.id){case"txtUser":this.setState({user:e.target.value});break;case"txtClave":this.setState({newClave:e.target.value});break;case"txtNombre":this.setState({nombre:e.target.value});break;default:this.setState({rol:e.target.value})}},this.updateUser=e=>{let a='{\n            "_id": '.concat(e,',\n            "user": "').concat(this.state.user,'",\n            "nombre": "').concat(this.state.nombre,'",\n            "rol": "').concat(this.state.rol,'"\n        }');this.state.newClave&&(a='{\n                "_id": '.concat(e,',\n                "user": "').concat(this.state.user,'",\n                "clave": "').concat(this.state.newClave,'",\n                "nombre": "').concat(this.state.nombre,'",\n                "rol": "').concat(this.state.rol,'"\n            }')),fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/usuario/edit",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({loading:!1}),this.toggleModal("modalAddEdit"),this.loadData())}).catch(a=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.updateUser(e),7e3)})},this.addUser=()=>{console.log(this.state.rol),fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/usuario/add",{method:"POST",body:'{\n                "user": "'.concat(this.state.user,'",\n                "clave": "').concat(this.state.newClave,'",\n                "nombre": "').concat(this.state.nombre,'",\n                "rol": "').concat(this.state.rol,'"\n            }'),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({loading:!1}),this.toggleModal("modalAddEdit"),this.loadData())}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.addUser(),7e3)})},this.deleteUser=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/usuario/delete",{method:"POST",body:'{\n                "_id": '.concat(this.state.deleteId,"\n            }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({loading:!1}),this.toggleModal("modalConfirmation"),this.loadData())}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.deleteUser(),7e3)})},this.state={usuarios:[],usuario_seleccionado:null,loading:!1,page:0,rowsPerPage:10,action:"add",user:"",userRol:null,newClave:"",nombre:"",rol:"Administrador",deleteId:null}}componentWillMount(){this.loadData()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.loading,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement("div",{className:"row py-3 align-items-center text-white  animate__animated animate__fadeInDown animate__fast"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"display-4 mb-0 text-white"},"USUARIOS")),l.a.createElement("div",{className:"col"},l.a.createElement(Ce.a,{size:"medium",className:"float-right",id:"_addUser",onClick:this.handleAddEdit,color:"primary","aria-label":"add",component:"span"},l.a.createElement("i",{className:"fa fa-plus"})))),l.a.createElement(N.a,{className:"animate__animated animate__fadeInDown animate__fast"},l.a.createElement(le.a,null,l.a.createElement(ne.a,{stickyHeader:!0,className:"table-responsive"},l.a.createElement(ie.a,null,l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement("strong",null,"Usuario")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Nombre")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Rol")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Acciones")))),l.a.createElement(de.a,null,this.state.usuarios.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>l.a.createElement(oe.a,{key:a+"_tr",tabIndex:-1},l.a.createElement(re.a,null,e.user),l.a.createElement(re.a,null,e.nombre),l.a.createElement(re.a,null,e.rol),l.a.createElement(re.a,null,l.a.createElement(ae.a,{onClick:a=>this.handleAddEdit(a,e.idUsuario),fontSize:"small","aria-label":"editar",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-pencil-square-o",fontSize:"small"})),"Administrador"==this.state.userRol?l.a.createElement(ae.a,{onClick:a=>this.handleDelete(a,e.idUsuario),fontSize:"small","aria-label":"delete",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-trash-o",fontSize:"small"})):"")))))),l.a.createElement(he.a,{component:"div",labelRowsPerPage:"Mostrar:",count:this.state.usuarios.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),l.a.createElement(_e,{deleteId:this.state.deleteId,userLog:this.props.userLog,deleteUser:this.deleteUser,modalConfirmation:this.state.modalConfirmation,toggleModal:()=>this.toggleModal(this.toggleModal("modalConfirmation"))}),l.a.createElement(we,{usuarioSeleccionado:this.state.usuario_seleccionado,updateUser:this.updateUser,addUser:this.addUser,handleChange:this.handleChange,modalAddEdit:this.state.modalAddEdit,toggleModal:()=>this.toggleModal(this.toggleModal("modalAddEdit"))}))}}function xe(e){return l.a.createElement(ue.a,{className:"modal-dialog-centered",isOpen:e.modalEdit,toggle:e.toggleModal,size:"sm"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title",id:"modal-title-default"},"Editar falla vehicular"),l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:e.toggleModal},l.a.createElement("span",{"aria-hidden":!0},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(y.a,null,l.a.createElement(P.a,{defaultValue:e.fallaSeleccionada.descripcion,onChange:e.handleChange,fullWidth:!0,id:"txtDescripcion",multiline:!0,label:"Nombre",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{defaultValue:e.fallaSeleccionada.causa,onChange:e.handleChange,fullWidth:!0,id:"txtCausa",multiline:!0,label:"Causa",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{value:e.fallaSeleccionada.sistema,fullWidth:!0,disabled:!0,id:"txtSistema",multiline:!0,label:"Sistema",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(J.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},"S/.")},onChange:e.handleChange,fullWidth:!0,defaultValue:e.fallaSeleccionada.costo,id:"txtCosto",customInput:P.a,label:"Costo"}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"col-sm text-center"},l.a.createElement(d.a,{onClick:()=>e.updateFalla(e.fallaSeleccionada.idFalla),className:"text-center",color:"success",type:"button"},"Guardar"))))}class ye extends l.a.Component{constructor(){super(),this.loadData=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/fallas-vehiculares").then(e=>e.json()).then(e=>{this.setState({fallasVehiculares:e,loading:!1})}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.loadData,7e3)})},this.handleChangePage=(e,a)=>{this.setState({page:a})},this.handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value,page:0})},this.handleClickRow=(e,a)=>{let t=this.state.fallasVehiculares.slice().find(e=>e.idFalla==a);this.setState({falla_seleccionada:t,descripcion:t.descripcion,causa:t.causa,costo:t.costo}),this.toggleModal()},this.toggleModal=()=>{this.setState({modalEdit:!this.state.modalEdit})},this.handleChange=e=>{switch(e.target.id){case"txtDescripcion":this.setState({descripcion:e.target.value});break;case"txtCausa":this.setState({causa:e.target.value});break;case"txtCosto":this.setState({costo:e.target.value})}},this.updateFalla=e=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/fallas-vehiculares/edit",{method:"POST",body:'{\n                "_id": '.concat(e,',\n                "descripcion": "').concat(this.state.descripcion,'",\n                "causa": "').concat(this.state.causa,'",\n                "costo": ').concat(this.state.costo,"\n            }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({loading:!1}),this.toggleModal(),this.loadData())}).catch(a=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.updateFalla(e),7e3)})},this.state={fallasVehiculares:[],falla_seleccionada:null,loading:!1,page:0,rowsPerPage:10,modalEdit:!1,descripcion:"",causa:"",costo:0}}componentWillMount(){this.loadData()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.loading,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement("div",{className:"row py-3 align-items-center text-white  animate__animated animate__fadeInDown animate__fast"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"display-4 mb-0 text-white"},"FALLAS VEHICULARES"))),l.a.createElement(N.a,{className:"animate__animated animate__fadeInDown animate__fast"},l.a.createElement(le.a,null,l.a.createElement(ne.a,{stickyHeader:!0,className:"table-responsive"},l.a.createElement(ie.a,null,l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement("strong",null,"Nombre")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Causa")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Sistema")),l.a.createElement(re.a,{style:{minWidth:80}},l.a.createElement("strong",null,"Costo")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Editar")))),l.a.createElement(de.a,null,this.state.fallasVehiculares.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>l.a.createElement(oe.a,{key:a+"_tr",tabIndex:-1},l.a.createElement(re.a,null,e.descripcion),l.a.createElement(re.a,null,e.causa),l.a.createElement(re.a,null,e.sistema),l.a.createElement(re.a,null,"S/. ",e.costo),l.a.createElement(re.a,null,l.a.createElement(ae.a,{onClick:a=>this.handleClickRow(a,e.idFalla),fontSize:"small","aria-label":"modificar",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-pencil-square-o",fontSize:"small"})))))))),l.a.createElement(he.a,{component:"div",labelRowsPerPage:"Mostrar:",count:this.state.fallasVehiculares.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),this.state.falla_seleccionada?l.a.createElement(xe,{fallaSeleccionada:this.state.falla_seleccionada,updateFalla:this.updateFalla,handleChange:this.handleChange,modalEdit:this.state.modalEdit,toggleModal:this.toggleModal}):"")}}function Pe(e){var a="";switch(parseInt(e.distritoSeleccionado.provincia)){case 1:a="Ferre\xf1afe";break;case 2:a="Lambayeque";break;case 3:a="Chiclayo"}return l.a.createElement(ue.a,{className:"modal-dialog-centered",isOpen:e.modalEdit,toggle:e.toggleModal,size:"sm"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title",id:"modal-title-default"},"Editar distrito"),l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:e.toggleModal},l.a.createElement("span",{"aria-hidden":!0},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(y.a,null,l.a.createElement(P.a,{value:a,disabled:!0,fullWidth:!0,id:"txtProvincia",label:"Provincia",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{value:e.distritoSeleccionado.label,disabled:!0,fullWidth:!0,id:"txtDistrito",multiline:!0,label:"Distrito",autoComplete:"off"})),l.a.createElement(y.a,null,l.a.createElement(J.a,{InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},"S/.")},onChange:e.handleChange,fullWidth:!0,defaultValue:e.distritoSeleccionado.costo,id:"txtCosto",customInput:P.a,label:"Costo"})),l.a.createElement(y.a,null,l.a.createElement(P.a,{defaultValue:e.distritoSeleccionado.estado,select:!0,label:"Estado",autoComplete:"off",onChange:e.handleChange,fullWidth:!0,id:"txtEstado"},l.a.createElement(Ne.a,{value:"1"},"Habilitado"),l.a.createElement(Ne.a,{value:"0"},"Desabilitado")))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("div",{className:"col-sm text-center"},l.a.createElement(d.a,{onClick:()=>e.updateDistrito(e.distritoSeleccionado.value),className:"text-center",color:"success",type:"button"},"Guardar"))))}class De extends l.a.Component{constructor(){super(),this.loadData=()=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/distrito/all").then(e=>e.json()).then(e=>{this.setState({distritos:e,loading:!1})}).catch(e=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.loadData,7e3)})},this.handleChangePage=(e,a)=>{this.setState({page:a})},this.handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:+e.target.value,page:0})},this.handleClickRow=(e,a)=>{let t=this.state.distritos.slice().find(e=>e.value==a);this.setState({distrito_seleccionado:t,costo:t.costo,estado:t.estado}),this.toggleModal()},this.toggleModal=()=>{this.setState({modalEdit:!this.state.modalEdit})},this.handleChange=e=>{switch(e.target.id){case"txtCosto":this.setState({costo:e.target.value});break;default:this.setState({estado:e.target.value})}},this.updateDistrito=e=>{console.log(e),console.log(this.state.costo),fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/distrito/edit",{method:"POST",body:'{\n                "_id": '.concat(e,',\n                "costo": ').concat(this.state.costo,',\n                "estado": ').concat(this.state.estado,"\n            }"),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{200==e.status&&(this.setState({loading:!1}),this.toggleModal(),this.loadData())}).catch(a=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.updateDistrito(e),7e3)})},this.state={distritos:[],distrito_seleccionado:null,loading:!1,page:0,rowsPerPage:10,modalEdit:!1,costo:0,estado:null}}componentWillMount(){this.loadData()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{open:this.state.loading,style:{position:"fixed",zIndex:5}},l.a.createElement(R.a,{color:"inherit"})),l.a.createElement("div",{className:"row py-3 align-items-center text-white  animate__animated animate__fadeInDown animate__fast"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"display-4 mb-0 text-white"},"DISTRITOS"))),l.a.createElement(N.a,{className:"animate__animated animate__fadeInDown animate__fast"},l.a.createElement(le.a,null,l.a.createElement(ne.a,{stickyHeader:!0,className:"table-responsive"},l.a.createElement(ie.a,null,l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement("strong",null,"Provincia")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Distrito")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Costo")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Estado")),l.a.createElement(re.a,null,l.a.createElement("strong",null,"Editar")))),l.a.createElement(de.a,null,this.state.distritos.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((e,a)=>{var t="";switch(parseInt(e.provincia)){case 1:t="Ferre\xf1afe";break;case 2:t="Lambayeque";break;case 3:t="Chiclayo"}return l.a.createElement(oe.a,{key:a+"_tr",tabIndex:-1},l.a.createElement(re.a,null,t),l.a.createElement(re.a,null,e.label),l.a.createElement(re.a,null,"S/. ",e.costo),l.a.createElement(re.a,null,l.a.createElement(ge.a,{className:"text-uppercase",color:1==e.estado?"success":"danger",pill:!0},1==e.estado?"Habilitado":"Desabilitado")),l.a.createElement(re.a,null,l.a.createElement(ae.a,{onClick:a=>this.handleClickRow(a,e.value),fontSize:"small","aria-label":"modificar",color:"primary",component:"span"},l.a.createElement(me.a,{className:"fa fa-pencil-square-o",fontSize:"small"}))))})))),l.a.createElement(he.a,{component:"div",labelRowsPerPage:"Mostrar:",count:this.state.distritos.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),this.state.distrito_seleccionado?l.a.createElement(Pe,{distritoSeleccionado:this.state.distrito_seleccionado,updateDistrito:this.updateDistrito,handleChange:this.handleChange,modalEdit:this.state.modalEdit,toggleModal:this.toggleModal}):"")}}t(118);var ke=t(184),Ie=t(85),Te=t.n(Ie),Oe=t(183),Ae=t(185),Me=t(199),je=t(122),Ue=t(186),Le=t(187),Fe=t(167),Re=t(188),ze=t(189);class Ve extends l.a.Component{constructor(){super(),this.handleDrawerOpen=()=>{this.setState({open:!this.state.open})},this.logOut=()=>{this.handleDrawerOpen(),this.props.logOut()},this.onExiting=()=>{this.setState({collapseClasses:"collapsing-out"})},this.onExited=()=>{this.setState({collapseClasses:""})},this.state={open:!1,collapseClasses:"",collapseOpen:!1}}componentDidMount(){new Te.a(document.getElementById("navbar-main")).init()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header-global "},l.a.createElement(Oe.a,{className:"position-fixed navbar-main navbar-transparent navbar-light headroom",expand:"lg",id:"navbar-main",style:{zIndex:1}},l.a.createElement(ke.a,null,l.a.createElement(Ae.a,{className:"mr-lg-5",to:"/",tag:i.b},l.a.createElement("img",{alt:"...",src:t(119)})),this.props.username?l.a.createElement(ae.a,{onClick:this.handleDrawerOpen,edge:"end",color:"inherit","aria-label":"menu",component:"span"},l.a.createElement("span",{className:"navbar-toggler-icon"})):l.a.createElement(ae.a,{edge:"end",color:"inherit","aria-label":"iniciar_sesion",component:"span"},l.a.createElement(i.b,{to:"/inicio-sesion"},l.a.createElement("span",{className:"nav-link-inner--text text-white"},l.a.createElement("i",{className:"fa fa-sign-in fa-lg"}))))))),l.a.createElement(Me.a,{variant:"temporary",anchor:"right",open:this.state.open,onClose:this.handleDrawerOpen,style:{position:"relative"}},l.a.createElement("br",null),l.a.createElement("div",{style:{paddingLeft:"15px",paddingRight:"15px"}},l.a.createElement(je.a,null,l.a.createElement(Ue.a,{primary:"Bienvenido,",secondary:this.props.username})),l.a.createElement("br",null),l.a.createElement(Le.a,null),l.a.createElement(Fe.a,null,l.a.createElement(Re.a,{component:"div",id:"nested-list-subheader"},"Atender"),l.a.createElement(je.a,{button:!0,onClick:this.handleDrawerOpen,component:i.b,to:"/"},l.a.createElement(ze.a,{style:{minWidth:40}},l.a.createElement("i",{className:"fa fa-bell"})),l.a.createElement(Ue.a,{primary:"Solicitudes de auxilio"})),l.a.createElement(Re.a,{component:"div",id:"nested-list-subheader"},"Mantenimientos"),l.a.createElement(je.a,{button:!0,onClick:this.handleDrawerOpen,component:i.b,to:"/usuarios"},l.a.createElement(ze.a,{style:{minWidth:40}},l.a.createElement("i",{className:"fa fa-users"})),l.a.createElement(Ue.a,{primary:"Usuarios"})),l.a.createElement(je.a,{button:!0,onClick:this.handleDrawerOpen,component:i.b,to:"/fallas-vehiculares"},l.a.createElement(ze.a,{style:{minWidth:40}},l.a.createElement("i",{className:"fa fa-list-alt"})),l.a.createElement(Ue.a,{primary:"Fallas vehiculares"})),l.a.createElement(je.a,{button:!0,onClick:this.handleDrawerOpen,component:i.b,to:"/distritos"},l.a.createElement(ze.a,{style:{minWidth:40}},l.a.createElement("i",{className:"fa fa-location-arrow"})),l.a.createElement(Ue.a,{primary:"Distritos"}))),l.a.createElement(Fe.a,{style:{position:"absolute",bottom:"10px"}},l.a.createElement(je.a,{button:!0,onClick:this.logOut},l.a.createElement(ze.a,{style:{minWidth:40}},l.a.createElement("i",{className:"fa fa-sign-out fa-lg"})),l.a.createElement(Ue.a,{primary:"Cerrar Sesi\xf3n"}))))))}}var We=Ve;class qe extends l.a.Component{constructor(){super(),this.logOut=()=>{localStorage.removeItem("auxcar_auth_user"),localStorage.removeItem("auxcar_auth_sesionId"),this.setState({username:null,sesion:!1,sesionId:null})},this.logIn=(e,a,t)=>{this.authentication(e,a,t)},this.authentication=(e,a,t)=>{fetch("https://app-5588aec6-1c6c-4e24-93ee-31bb3a4c1c21.cleverapps.io/api/auth",{method:"POST",body:'{\n              "user": "'.concat(e,'",\n              "pass": "').concat(a,'"\n          }'),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{let a=e.data[0];void 0!=a?(this.setState({sesion:!0,error:!1}),t&&(localStorage.setItem("auxcar_auth_user",a.nombre),localStorage.setItem("auxcar_auth_sesionId",a.idUsuario)),setTimeout(()=>this.setState({loading:!1,username:a.nombre,sesionId:a.idUsuario}),500)):this.setState({error:!0})}).catch(()=>{console.clear(),this.setState({loading:!0}),setTimeout(()=>this.authentication(e,a),7e3)})},this.state={sesionId:null,username:null,loading:!1,sesion:!1,error:!1}}componentDidMount(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.main.scrollTop=0}componentWillMount(){let e=localStorage.getItem("auxcar_auth_user"),a=localStorage.getItem("auxcar_auth_sesionId");e&&this.setState({username:e,sesionId:a})}render(){return l.a.createElement(i.a,{hashType:"noslash"},l.a.createElement(We,{username:this.state.username,logOut:this.logOut}),l.a.createElement("main",{ref:"main"},l.a.createElement("div",{className:"position-relative"},l.a.createElement("div",{className:"shape shape-style-1 bg-default position-fixed",style:{zIndex:-1}},l.a.createElement("img",{alt:"...",className:"img-center ",src:t(120),style:{opacity:.3}})),l.a.createElement("section",{className:"section section-lg section-shaped position-relative"},l.a.createElement(ke.a,{className:"align-items-center"},this.state.username?l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,render:e=>l.a.createElement(be,e)}),l.a.createElement(o.b,{path:"/usuarios",exact:!0,render:e=>l.a.createElement(Se,Object.assign({userLog:this.state.sesionId},e))}),l.a.createElement(o.b,{path:"/fallas-vehiculares",exact:!0,render:e=>l.a.createElement(ye,e)}),l.a.createElement(o.b,{path:"/distritos",exact:!0,render:e=>l.a.createElement(De,e)}),l.a.createElement(o.a,{to:"/"})):l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,render:e=>l.a.createElement(h,e)}),l.a.createElement(o.b,{path:"/inicio",exact:!0,render:e=>l.a.createElement(h,e)}),l.a.createElement(o.b,{path:"/ubicacion",exact:!0,render:e=>l.a.createElement(W,e)}),l.a.createElement(o.b,{path:"/asistencia-vehicular",exact:!0,render:e=>l.a.createElement(U,e)}),l.a.createElement(o.b,{path:"/reporte-diagnostico",exact:!0,render:e=>l.a.createElement(B,e)}),l.a.createElement(o.b,{path:"/solicitud-auxilio",exact:!0,render:e=>l.a.createElement($,e)}),l.a.createElement(o.b,{path:"/inicio-sesion",exact:!0,render:e=>l.a.createElement(se,Object.assign({error:this.state.error,sesion:this.state.sesion,logOut:this.logOut,loading:this.state.loading,loginF:this.logIn},e))}),l.a.createElement(o.a,{to:"/"})))))))}}Object(n.render)(l.a.createElement(qe,null),document.getElementById("root"))},70:function(e){e.exports=JSON.parse('[{"id":1,"predecesor":0,"pregunta":"Mi veh\xedculo ha sufrido un choque/golpe por manejo brusco"},{"id":2,"predecesor":0,"pregunta":"Mi veh\xedculo ha sufrido un cortocircuito/recalentamiento"},{"id":3,"predecesor":0,"pregunta":"Mi veh\xedculo no ha recibido mantenimiento en los \xfaltimos seis meses"},{"id":4,"predecesor":0,"pregunta":"Mi veh\xedculo presenta fugas"},{"id":5,"predecesor":0,"pregunta":"Otro"},{"id":11,"predecesor":1,"pregunta":"\xbfSu veh\xedculo se ha detenido?","valor_si":1},{"id":12,"predecesor":1,"pregunta":"\xbfSu chasis (la estructura interna, el armaz\xf3n del veh\xedculo) est\xe1 desnivelado?"},{"id":13,"predecesor":1,"pregunta":"\xbfTiene problemas para direccionar su veh\xedculo?"},{"id":14,"predecesor":1,"pregunta":"\xbfTiene dificultades para realizar cambios de velocidad?"},{"id":15,"predecesor":1,"pregunta":"\xbfTiene fugas del l\xedquido de frenos?","valor_si":12},{"id":121,"predecesor":12,"pregunta":"\xbfSiente vibraciones/ruidos en las llantas al manejar??","valor_si":2},{"id":122,"predecesor":12,"pregunta":"\xbfUno o m\xe1s neum\xe1ticos se han roto??","valor_si":3},{"id":123,"predecesor":12,"pregunta":"\xbfSus llantas rebotan m\xe1s de lo regular? A veces con un ruido/vibraci\xf3n acompa\xf1ado?","valor_si":4},{"id":131,"predecesor":13,"pregunta":"\xbfSu veh\xedculo emite ruidos cortos y agudos al pasar terrenos \xe1speros?","valor_si":5},{"id":132,"predecesor":13,"pregunta":"Al girar el volante, \xbfhay un aumento moment\xe1neo de esfuerzo?"},{"id":133,"predecesor":13,"pregunta":"Al arrancar, \xbfel volante gira solo?","valor_si":8},{"id":1321,"predecesor":132,"pregunta":"\xbfOye un ruido y siente un golpe a trav\xe9s del volante?","valor_si":6,"valor_no":7},{"id":141,"predecesor":14,"pregunta":"\xbfSu veh\xedculo emite ruidos extra\xf1os estando en neutro?","valor_si":[9,10],"valor_no":11},{"id":21,"predecesor":2,"pregunta":"\xbfHubo cortocircuito/incendio en el sistema de carga?"},{"id":22,"predecesor":2,"pregunta":"\xbfHa sobrecargado el alternador?","valor_si":15},{"id":23,"predecesor":2,"pregunta":"\xbfHay fugas de agua o aceite?","valor_si":16},{"id":24,"predecesor":2,"pregunta":"\xbfHay fugas de petr\xf3leo?","valor_si":17},{"id":211,"predecesor":21,"pregunta":"\xbfLa luz de alerta del alternador est\xe1 encendida?","valor_si":13,"valor_no":14},{"id":31,"predecesor":3,"pregunta":"\xbfTiene problemas con la bater\xeda del veh\xedculo?"},{"id":32,"predecesor":3,"pregunta":"\xbfTiene problemas para frenar el veh\xedculo?"},{"id":33,"predecesor":3,"pregunta":"\xbfSu veh\xedculo presenta fugas de agua o aceite?","valor_si":26},{"id":34,"predecesor":3,"pregunta":"\xbfSu veh\xedculo presenta fugas de petr\xf3leo?","valor_si":27},{"id":35,"predecesor":3,"pregunta":"\xbfTiene problemas para direccionar su veh\xedculo?"},{"id":36,"predecesor":3,"pregunta":"\xbfSu veh\xedculo se ha detenido?","valor_si":32},{"id":37,"predecesor":3,"pregunta":"\xbfTiene dificultades para realizar cambios de velocidad?"},{"id":311,"predecesor":31,"pregunta":"\xbfLa unidad arranca?","valor_si":18},{"id":312,"predecesor":31,"pregunta":"\xbfEl veh\xedculo se detiene sin previo aviso?","valor_si":19},{"id":313,"predecesor":31,"pregunta":"\xbfLa luz de alerta de la bater\xeda est\xe1 encendida?","valor_si":20},{"id":314,"predecesor":31,"pregunta":"\xbfLa luz de alerta del alternador est\xe1 encendida?","valor_si":21},{"id":321,"predecesor":32,"pregunta":"\xbfLas ruedas est\xe1n frenadas?","valor_si":22},{"id":322,"predecesor":32,"pregunta":"\xbfPuede observar fugas del l\xedquido de frenos?","valor_si":23},{"id":323,"predecesor":32,"pregunta":"\xbfLa rueda o banda de rodamiento est\xe1 rota o desgastada?","valor_si":24,"valor_no":25},{"id":351,"predecesor":35,"pregunta":"Al girar una rueda, \xbfalg\xfan rodamiento hace ruido?","valor_si":28},{"id":352,"predecesor":35,"pregunta":"\xbfSu veh\xedculo emite ruidos cortos y agudos al pasar terrenos \xe1speros?","valor_si":29},{"id":353,"predecesor":35,"pregunta":"Al girar el volante, \xbfhay un aumento moment\xe1neo de esfuerzo?","valor_si":30},{"id":354,"predecesor":35,"pregunta":"Al arrancar, \xbfel volante gira solo?","valor_si":31},{"id":371,"predecesor":37,"pregunta":"\xbfSu veh\xedculo emite ruidos extra\xf1os estando en neutro?","valor_si":[33,34],"valor_no":35},{"id":41,"predecesor":4,"pregunta":"\xbfSu veh\xedculo presenta fugas de agua?","valor_si":36},{"id":42,"predecesor":4,"pregunta":"\xbfSu veh\xedculo presenta fugas de aceite?","valor_si":36},{"id":43,"predecesor":4,"pregunta":"\xbfSu veh\xedculo presenta fugas de combustible?","valor_si":37},{"id":44,"predecesor":4,"pregunta":"\xbfSu veh\xedculo presenta fugas de l\xedquido de frenos?","valor_si":38},{"id":45,"predecesor":4,"pregunta":"\xbfSu veh\xedculo presenta fugas de otro tipo?","valor_si":999}]')},95:function(e,a,t){e.exports=t(121)}},[[95,1,2]]]);
//# sourceMappingURL=main.a4155829.chunk.js.map